language: python
python:
  - 2.7
#codecov token (encrypted)
env:
  - secure: isTUVzKgzSF3x2vWnKQRvcvPkq2u9sevFh6HmBp08Pe+vgZiM3WlVsUam6e2Z8J4I5qBS7ljzyCBWxvm+ADDDMqjJEHyGP+Mc3gGqEvCmphHY2/7/BfOm0u3ycoYg7jE2dPgRwpHg/5+W/qOIu1qMPfQ015gVUsAuxrSQzzQ3g3QXYSYxqkWdlxD3sZFjo2JJN1PxZl5HMAaA26RG6Law2OkUIIdn+Mr7YxeLNCT7i0eD5oi8MxmSFwup0Xonh9kJf19PULvLQJsIuLmVuCqLxg6klVMlVuI+479ENB9sZZELukM2IIjuw7W97tEV0KLSYpFlw5l1CJ6FPBrwTR28A==

install:
  - sudo apt-get update
  - sudo apt-get install curl -y

script:
  - export toolset_branch="master"
  - export server_type="shippable"
  - export used_modules="check_cache,install,create_workspace,code_style_check,unit_tests,codecov_tool"
  - export remote_shell_script="https://raw.githubusercontent.com/shadow-robot/sr-build-tools/$toolset_branch/bin/sr-run-ci-build.sh"
  - curl -s "$( echo "$remote_shell_script" | sed 's/#/%23/g' )" | bash /dev/stdin "$toolset_branch" $server_type $used_modules
